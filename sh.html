<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="images/heart.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For a Sweetheart</title>
    <style>
        * { box-sizing: border-box; }
        
        /* Add this to the <style> of your other files to make them "slide in" */
body {
    animation: fadeIn 0.8s ease-out;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

        body {
            margin: 0;
            background-color: #472933; 
            color: #ff617f;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between; 
            overflow: hidden;
            height: 100vh;
            padding: 20px 0;
        }

        h1 {
            font-size: clamp(1.5rem, 8vw, 2.5rem); 
            margin: 0;
            text-align: center;
            padding: 0 10px;
        }

        canvas {
            display: block;
            touch-action: none;
        }

        .footer {
            font-size: clamp(1.2rem, 6vw, 1.8rem);
            color: #ff617f;
            font-weight: bold;
            margin: 0;
        }


        .back-btn {
    position: fixed;
    top: 20px;
    left: 20px;
    width: 50px;
    height: 50px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.5rem;
    z-index: 100;
    transition: background 0.3s;
}
.back-btn:hover { background: white; }
body { transition: transform 0.6s ease-in, opacity 0.5s; }
.exit-back { transform: translateX(100vw); opacity: 0; }

    </style>
</head>
<body>


    <div class="back-btn" onclick="goBack('exit-back')">‚Üê</div>

<script>
    function goBack(anim) {
        document.body.classList.add(anim);
        setTimeout(() => { window.location.href = 'reasons.html'; }, 600);
    }
</script>
    <h1>You're a SWEEEEETheart</h1>
    
    <canvas id="heartCanvas"></canvas>

    <div class="footer">Ta ha zemren ü§ç</div>

    <script>
        const canvas = document.getElementById('heartCanvas');
        const ctx = canvas.getContext('2d');

        let scale, pts = [], N = 5000, M = 1500;
        let k = 1;
        let used = new Set();

        function resize() {
            const displayWidth = window.innerWidth * 0.9;
            const displayHeight = window.innerHeight * 0.6;
            
            canvas.width = displayWidth;
            canvas.height = displayHeight;

            scale = Math.min(displayWidth / 45, displayHeight / 40);
            
            pts = [];
            for (let i = 0; i < N; i++) {
                let t = (2 * Math.PI * i) / N;
                let x = 15 * Math.pow(Math.sin(t), 3);
                let y = -(12 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                pts.push({ x: x * scale, y: y * scale });
            }
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            k = 1;
            used.clear();
        }

        function vdc(n, base = 2) {
            let v = 0, denom = 1;
            while (n > 0) {
                denom *= base;
                v += (n % base) / denom;
                n = Math.floor(n / base);
            }
            return v;
        }

        function draw() {
            if (k > M) {
                k = 1;
                used.clear();
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }

            let targetIdx = Math.floor(vdc(k) * N);
            while (used.has(targetIdx)) {
                targetIdx = (targetIdx + 1) % N;
            }
            used.add(targetIdx);

            const pt = pts[targetIdx];
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2 + (scale * 2);

            ctx.strokeStyle = "#FFFFFF";
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + pt.x, centerY + pt.y);
            ctx.stroke();

            ctx.fillStyle = "#FFFFFF";
            ctx.beginPath();
            ctx.arc(centerX + pt.x, centerY + pt.y, 2, 0, Math.PI * 2);
            ctx.fill();

            k++;
            setTimeout(draw, 75);
        }

        window.addEventListener('resize', resize);
        resize();
        draw();
    </script>
</body>
</html>